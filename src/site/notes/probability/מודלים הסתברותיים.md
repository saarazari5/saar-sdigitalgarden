---
dateCreated: "2022-11-05 16:54"
tags: [probability, computer_science]
dg-publish: true
dg-home: true
---


# מודלים הסתברותיים
המודל ההסתברותי הוא תיאור מתמטי של מצב לא ידוע. עליו להיות מתואר עם מסגרת בסיסית והוא מכיל שתי מרכיבים עיקריים. 
1) __מרחב המדגם__ : $\Omega$, קבוצה שמתארת את כל __התוצאות__ האפשרויות של הניסוי.
2) __חוק הסתברות__ : חוק זה מוקצה לקבוצה $A\subseteq\Omega$ של תוצאות אפשרויות ($A$ נקרא גם מאורע) מספר אי-שלילי שמסומן $P(A)$ כלומר, ההסתברות של $A$. מספר זה מקודד את הידע או האמונה שלנו על ה״סבירות״ הקבוצתית של אלמנטים בקבוצה זו. _חוק ההסתברות חייב למלא פרמטרים שונים שאפרט עליהם בהמשך_ .

![[Pasted image 20221105170209.png]]

## מרחב מדגם ומאורעות 
כל מודל הסתבורתי מערב בתוכו תהליך בסיסי שנקרא __ניסוי__. הניסוי יפיק בידיוק תוצאה אפשרים אחת מבין כל התוצאות. קבוצת כל התוצאות האפשריות נקרא מרחב מדגם.  תת קבוצה של מרחב מדגם נקראת מאורע. מעבר לכך אין הגבלה על מה מהווה ניסוי. למשל, אני יכול להגיד שניסוי יהיה זריקה בודדת של מטבע או 3 זריקות של מטבע או אינסוף זריקות של מטבע. __אבל___ , חשוב לשים לב שבניסוח שלנו למודל הסתברותי יש רק ניסוי אחד. כלומר זריקה של שלוש מטבעות היא ניסוי בפני עצמו ולא שלושה ניסויים. מרחב המדגם יכול להכיל מספר סופי או אין סופי של תוצאות.  
כמובן שמרחבים סופיים הם יותר פשוטים להבנה מתמטית אבל חשוב לשים לב שמרחבי מדגם עם מספר אינסופי של תוצאות הם קיימים וישנים הרבה מאלה. לדוגמה : זריקת חץ למטרה שהיא ריבוע בגודל $1\times 1$, כאשר נקודת הפגיעה היא התוצאה.

### בחירת מרחב מדגם 
אלמנטים שונים במרחב המדגם צריכים להיות __זרים וסותרים אחד את השני__ כלומר אם תוצאה אחת במרחב המדגם קרתה השני בוודאות לא קרתה.  
ישנם מספר דרכים שניתן למדל מצב כלשהו בהתאם לשאלה שנרצה לענות עליה. באופן כללי, מרחב המדגם של מודל ההסתברות צריך להיות __ממצה באופן קולקטיבי__, כלומר שלא משנה מה קרה בניסוי יש איזשהי תוצאה בכלולה במרחב המדגם והיא מתארת את מה שקרה. בנוסף, מרחב המדגם צריך להיות מספיק מפורט כדי להפריד בין כל התוצאות האפשריות האלה תוך המנעות מפרטים לא רלוונטים.
כל תת קבוצה של מרחב המדגם כולל הוא עצמו והמשלים שלו יכולים להיחשב כמאורעות. אם להסתכל על הסוגייה מעיניים נוקשות יותר, חלק מהקבוצות חייבות להיות לא כלולות ובאופן פרטני יותר כשמתמקדמים במודל הסתברותי שמכיל מרחב מדגם אינסופי. ישנם מקרים חריגים של תתי קבוצות במקרה כזה שהן אינן יכולות להניב הסתברויות רלוונטיות ומשמעותיות. לא נתמקד במקרים כאלה וניתן להתעלם מהם לחלוטין. 

## מודלים סדרתיים
לניסויים רבים יש באופן מורש תכונות סדרתיות, למשל, הטלת מטבע שלוש פעמים. במצב כזה, נהוג ושימושי לתאר את הניסוי ומרחב המדגם שלו בצורה מבוססת עץ רציף. 
![[Pasted image 20221105180211.png]]
בתמונה ניתן לראות שתי תיאורים שקולים של מרחב מדגם של הניסוי הכולל הטלת קובייה עם ארבע פאות. התוצאות האפשריות מתוארות כזוג סדור $(i,j)$. כאשר $i$ זוהי תוצאת ההטלה הראשונה ו $j$ זאת תוצאת ההטלה השנייה.  ניתן לתאר אותן כגריד דו מימדי כמו בתמונה השמאלית או כעץ כמו בתמונה הימנית. מרשמים אלו מתארים את תכונות המודל הבדיד של הניסוי. כל התוצאות האפשריות נמצאות בעלים והמסלול מהשורש עד לאותו עלה הוא ייחודי. במקרה של התמונה השמאלית כל נקודה מייצגת זוג סגור שהוא אחת התוצאות במרחב המדגם. 

## חוקי הסתברות
נניח שיש לנו מרחב מדגם $\Omega$ המייצג ניסוי כלשהו. כדי להשלים את המודל ההסתברותי עלינו להציג את __חוקי ההסתברות__.
באופן אינטואיטיבי זה מייצג את ה״סבירות״ של כל תוצאה או אוסף של תוצאות אפשריות. באופן מדוייק יותר, חוק ההסתברות מצמיד לכל אירוע $A$ , מספר $P(A)$ שנקרא _הסתברות_ של $A$ . 

###  אקסיומות הסתברות
חוק הסתברות צריך לקיים את האקסיומות הבא
1. _אי שליליות_ - $\forall_{A\in\Omega}: P(A)\geq 0$ 
2. נורמליזציה- $P(\Omega)=1$
3.  אדטיביות-  (בהינתן מאורעות זרים $A,B$) 
$$\forall_{A,B\in\Omega \ \ :\ \ A\cap B= \emptyset} : P(A\cup B)= P(A)+P(B)$$
נוכל לתאר חוק הסתברות באופן ויזואלי. נחשוב על יחידה מסה שנקראה לה ״התפרסות״ לאורך מרחב המדגם. $P(A)$ אם כן, הוא פשוט המסה הכוללת שהוקצתה לו או הפריסה שלו במרחב המדגם. באופן הזה אדטיביות הופכת להיות אינטואיבית יחסית 
![[Pasted image 20221105182053.png|450]]
ניתן גם לתאר חוק הסתברות כעניין יחסי : אם $P(A)= \frac{2}{3}$ אז זה מייצג את האמונה שמאורע $A$ יתרחש ב $\frac{2}{3}$ מהמקרים מתוך מספר רב מאוד של חזרות על הניסוי.
התייחסויות כאלה, למרות שהן לא תמיד מתאימות, יכולות לעתים לעזור לתת אינטואיציה לקונספטים מורכבים.

_מהאקסיומות ניתן להסיק כי_

$$\displaylines{
P(A)+P(\overline{A})=1\\
\text{proof:}\\
P(\Omega)=P(A\cup\overline{A})=P(A)+P(\overline{A})=1
}$$

* 
$$\displaylines{P(\emptyset)=0 
\\
\text{proof:}\\
P(\emptyset)=P(\Omega\cap\emptyset) \rightarrow 1=P(\Omega)=P(\Omega\cup\emptyset)=P(\Omega)+P(\emptyset)=\\ 1+ P(\emptyset)\rightarrow P(\emptyset)=0
}$$


## מודל הסתבורתי בדיד
ראשית אציג אילוסטרציה לבנייה של חוק הסתברות מהיגיון לגבי המודל.
נגדיר את הניסוי שכולל הטלה יחידה של מטבע. יש שתי תוצאות אפשרויות $H,T$ ומרחב המדגם הוא $\Omega=\{H,T\}$. 
המאורעות האפשריים 
$$\{H,T\},\{H\},\{T\},\emptyset$$
אם המטבע הוא הוגן כלומר ההסתברות שצד אחד יצא זהה להסתברות שהצד השני יצא בהטלה, אז אנחנו יכולים להגיד את חוק ההסתברות הבא
$$P(H)=P(T)= 0.5$$
ולפי אקסיומת האדטיביות יתקיים 
$$P(H\cup T)= 0.5+0.5 = 1 = \Omega $$
חוק ההסתברות שבנינו מקיים את האקסיומות כדרוש. 

### חוק ההסתברות הבדיד
כלומר לפי מה שראינו משתמע מאקסיומת האדטיביות הדבר הבא 
בהינתן $nֿ\in\mathbb{N}$ תוצאות במרחב המדגם  :
$$ P\bigg(\bigcup_{i=1}^{k}s_{i}\bigg)= \sum\limits_{i=1}^{k}P(s_{i})$$
> חיזוק לטענה הנ״ל $k$ יכול להיות גם עוצמה בת מנייה $\aleph_{0}$. 

במרחב מדגם שווה הסתברות יתקיים 
$$ P\bigg(\bigcup_{i=1}^{k}s_{i}\bigg)= \sum\limits_{i=1}^{k}P(s_{i})= \frac{1}{n}$$

![[Pasted image 20221024101717.png]]

### חוק ההסתברות במרחב שווה הסתברות בדיד
אם במרחב המדגם יש $n$ תוצאות שכולן בעלות הסתברות שווה, אזי יתקיים עבור מאורע $A$
$$P(A)= \frac{|A|}{n}$$
דוגמה טובה למרחב כזה הוא הטלת זוג קוביות הגונות עם 4 צדדים ולכן לכל זוג סדור $(i,j)$ שמייצג תוצאה אפשרית יש את אותה הסתברות $\frac{1}{16}$ . ניתן כעת להסתכל על התרשים שעשינו למעלה כדי לתאר מרחב כזה ופשוט לספור את איברי הקבוצה שמקיימים את התנאים הדרושים למשל :
![[Pasted image 20221105190544.png|450]]


## מודל הסתבורתי רציף
מודל הסתבורתי עם מרחב מדגם רציף שונה מאוד מהמודל הבדיד בכך שההסתבורות של מאורע עם איבר בודד עלול שלא להספיק כדי לאפיין חוק הסתברות. 
לדוגמה: נדמיין גלגל מזלות שכל נקודה שבה הוא עוצר היא מספר בין $[0,1]$. נניח גם שהגלגל הוגן ולכל נקודה הסתברות שווה. כעת נחשוב, מה ההסתברות של מאורע עם תוצאה אפשרית אחת במרחב המדגם הזה. בוודאות היא לא יכולה להיות חיובית כי אם היא הייתה כזאת למשל $\frac{1}{n}$ כלשהו, אז נוכל לקחת מספיק איברים במרחב המדגם ולפי אקסיומת האדטיביות נקבל הסתברות של מאורע שגדול מ1 _בסתירה_.  לכן, ההסתברות של תוצאה אחת במרחב המדגם הזה היא $0$.
במקרה הזה נוכל להגדיר חוק הסתברות $b-a$ לכל תת קטע סגור $[a,b]$ כלומר ״אורך״. ההגדרה הזאת תקיים את אקסיומות ההסתברות.

נתבונן בדוגמה נוספת:
לרומאו ויוליה יש דייט בזמן כלשהו, כל אחד מהם יגיע למקום המפגש בדיליי של בין 0 ל1 שעות. כך שלכל זוג סדור $(r,j)$ שמייצג איחור של שניהם יש הסתברות שווה. כמו כן ניתן הגבלה נוספת, אם אחד מהם מגיע וממתין 15 דקות לשני, הוא יעזוב את הדייט. מה ההסתברות שהם ייפגשו?
נסתכל על מרחב המדגם כריבוע היחידה כשכל נקודה בו מייצגת את הזוג הסדור. בגלל שזה מרחב מדגם שווה הסתברות רציף אז נוכל לפרש את ההסתברות של מאורע כלשהו או תת קבוצה של $\Omega$ להיות שווה לשטח שלו בתוך ריבוע היחידה. 
חוק ההסתברות הזה מקיים את שלושת האקסיומות שלנו.
כלומר אם נסמן את המאורע שהם ייפגשו כ$M$ שטחו ייראה כך :
$$M=\{(x,y) | |x-y|\leq \frac{1}{4}, \ \ x,y\in[0,1]\}$$
![[Pasted image 20221105203516.png|250]]
כעת נוכל לחשב את השטח ולראות שההסתברות שהם ייפגשו היא $\frac{7}{16}$. נשים לב שכשמתכוונים לשטח הכוונה היא לשטח ביחס למרחב המדגם. במקרה הזה מרחב המדגם הוא ריבוע היחידה אז לקחנו את $S_{m}$ וחילקנו ב $S_{\Omega}=1$ .

> אנחנו מדברים על שטח אבל הכוונה היא ל $\int_{S}dt\ \text{where: }\ S\subseteq [0,1]$ . במקרים מורכבים האינטגרל עלול להיות ״לא מוגדר היטב״ מתמטית. 

## תכונות של חוקי הסתברות 
ישנן כמה תכונות של חוקי הסתברות שנובעות מהאקסיומות 

1) 
$$A\subseteq B \rightarrow P(A)\leq P(B)$$
הוכחה: נניח בשלילה שקיימות מאורעות כנ״ל שיקיימו $P(A)\geq P(B)$ ומכאן שיתקיים 
$$P(B)+P(\overline{B})=1$$
מכיוון ש $A$ מוכל ב $B$ יתקיים 
$$A\cap \overline{B}=\emptyset$$
ולכן 
$$P(A\cup\overline{B})=P(A)+P(\overline{B})\geq 1$$
אבל מתקיים גם ש $A\cup \overline{B}\subseteq\emptyset$  בסתירה לכך שזה גדול מ1, כלומר ייתכן רק שיוויון אבל שיווין יתקיים רק אם $A=B$.

2)  $$P(A\cup B) = P(A)+P(B)-P(A\cap B)$$
אנחנו יודעים מהאקסיומות שהמקרה הפרטי עבור קבוצות זרות יקיים את הנ״ל כי החיתוך הוא הקבוצה הריקה שהסתבורות היא 0 .

נגדיר את $A\cup B$ באופן הבא 
$$(A\cap\overline{B})\cup(A\cap B)\cup(B\cap\overline{A})$$
הנ״ל הן איחוד של קבוצות זרות.
כעת נוכל להגדיר ש 
$$P(A\cup B)= P(A\cap\overline{B})+P(A\cap B)+P(B\cap\overline{A})=$$
$$P(A\cap\overline{B})+P(A\cap B)+P(B\cap\overline{A}) +P(A\cap B)-P(A\cap B)$$
כעת נשים לב שיתקיים 
$$P(A\cap \overline{B})+P(A\cap B)= P(A)$$
ובאופן דומה גם על 
$$P(\overline{A}\cap B)+ P(A\cap B)= P(B)$$
סך הכל נאחד את הביטוי למעלה ונקבל 
$$P(A)+P(B)-P(A\cap B)$$

__מסקנה מתבקשת:__ 
3)  $$P(A\cup B)\leq P(A)+P(B)$$

4)  $$P(A\cup B\cup C)= P(A)+P(\overline{A}\cap B)+ P(\overline{A}\cap\overline{B}\cap C)$$
> ההוכחה של הנ״ל די דומה להוכחה הקודמת לה פשוט מגדירים את האיחוד על 3 קבוצות ולא על שתיים

את התכונות הנ״ל ניתן להמחיש באופן ויזואלי על ידי שימוש ב [Venn diagrams](https://en.wikipedia.org/wiki/Venn_diagram).  כמו כן נשים לב שניתן להכליל את $3$ באופן הבא: 
$$P(\bigcup_{i=1}^{n}A_{i})\leq \sum\limits_{i=1}^{n}P(A_{i})$$
ההוכחה לכך די פשוטה, פשוט נסתכל על האיחוד הגדול הזה כאיחוד של 2 קבוצות כל פעם (או להוכיח באינדוקצייה).

![[Pasted image 20221105214143.png|450]]
הדיאגרמות המתארות באופן ויזואלי את ההוכחות שלמעלה. למשל מדיאגרמה c אפשר לראות ש
$$A\cup B\cup C = A\cup(A^{c}\cap B)\cup (A^{c}\cap B\cap C)$$

## המודלים ההסתברותיים והמציאות
המסגרת של תאוריית ההסתברות יכולה להיות שימושים כדי לנתח אי וודאות באירועים שונים עם קונטקסט פיזי.
כדי לעשות זאת מעורבים שתי שלבים עיקריים 
1) בנייה של מודל הסתברות על ידי פירוט חוקי ההסתברות על מרחב מדגם מוגדר היטב. אין חוקים מולחמים כדי להנחות בשלב זה חוץ מהדרישות שחוקי ההסתברות יקיימו את האקסיומות. במקרים רבים לפעמים המודל שייבחר יהיה שגוי יותר ממודל אחר אם הוא פשוט יותר  ממנו ומאפשר חישובים סבירים יותר. זה טכניקה ידועה בתחום המדעים וההנסה, שהבחירה במודל לעתיתם קשורה בהחלפות בין דיוק, פשוט ועקביות. 

2) בשלב זה, נעבור בתוך מודל הסתברותי ונפתח את הסתברויות האירועים שנרצה או שנפתח כמה תכונות חשובות לגבי המודל. בעוד שהשלב הראשון הוא די פתוח לפרשנות, ברגע שהמודל סגור ומוגדר היטב אין מקום לספקולציות ומושפע ישירות מהאקסיומות והחוקים שהגדרנו קודם לכן. חשוב לזכור שגם אם החישוב מסובך, ברגע שיש מודל הסתברות מוגדר היטב לניסוי, ניתן להגיע לכל מאורע אפשרי עם יכולת והכלים הנכונים.

 בתאוריית ההסתברות יש המון פרדוקסים שחישובים שונים נותנים תוצאות שונות לאותה שאלה.  אבל לרוב זה קורה בכלל מודל הסתברותיים שגואים או דו משמעיים. דוגמה טובה למודל שגוי כזה הוא  [Bertrand's paradox](https://en.wikipedia.org/wiki/Bertrand_paradox_(probability)) 

