---
dateCreated: "2022-12-18 02:43"
tags: [probability, computer_science]
dg-publish: true
dg-home: false
---

# CDF פונקציית ההתפלגות המצטברת

נרצה דרך לחבר בין [[משתנים רנדומיים-בדיד]] לבין [[משתנים רנדומיים - רציף]] כי עד כה התייחסנו אליהם באופן שונה עם הגדרת ה PMF וה PDF .
כאן נכנסת לתמונה __פונקציית ההתפלגות המצטברת__. הCDF של משתנה רנדומי $X$ מוגדרת על ידי $F_{X}$ ומספקת לנו את ההסתברות $P(X\leq x)$ . היא מוגדרת להיות כך 
$$F_{X}(x)= P(X\leq x)= \begin{cases} \sum\limits_{k\leq x}p_{X}(k) & \text{if X is discrete} \\  \\
\int\limits_{-\infty}^{x}f_{X}(t)dt&\text{if X is continuous} \end{cases}$$
נשים לב ש $x\in\mathbb{R}$ כלומר הוא ערך ממשי כלשהו ולא רק ערך של הפונקצייה $X$ .

באופן מופשט למדי, ה CDF ״צוברת״ את ההסתברות ״עד ל״ ערך $x$. 
כל משתנה רנדומי שמשוייך למודל הסתברותי מקיים שיש לו CDF, בלי קשר להיותו רציף או בדיד. כמובן שזה בגלל ש $\{X\leq x\}$ זה מאורע בכל מודל הסתבורתי ויש לו הסתברות מוגדרת היטב.

כאן ניתן לראות איך פונקציית ההתפלגות המצטברת נראת עבור משתנים רנדומיים בדידים. 
![[Pasted image 20221218025342.png|350]]
ניתן לראות שיש לה מאין צורת מדרגות כזאת, כאשר הקפיצות מתרחשות כל פעם שבפונקציית מסת ההסתברות מצטרף ערך חדש. הקפיצה מתארת את התוספת של חיבור ההסתברות שמתקבלת מפונקציית מסת ההסתברות עבור הערך הזה, אם כן כשנחבר את כולם תמיד נסיים ב$1$ כלומר $1$ הוא חסם עליון/מקסימום של הפונקצייה. קל גם לראות שזאת פונקצייה מונוטונית עולה שאינה רציפה עם נקודות אי רציפות מסוג קפיצה.

נסתכל גם מה קורה במקרה הרציף
![[Pasted image 20221218025737.png|350]]

נשים לב שבמקרה הרציף פונקציית ה CTF היא בעצם הפונקצייה הקדומה ל $f_{X}(x)$ כלומר פונקציית השטח כמו כן ניתן לראות מהגרפים למעלה שאכן היא מתארת את השטח שגדל ככל שמכניסים עוד ערכים של $x$ .
נוכל להשיג את $f_{X}(x)$ על ידי גזירה של $F_{X}(x)$ , נובע מ[[האינטגרל#המשפט היסודי]] .

## תכונות
1) $F_{X}$ היא מונוטונית עולה כלומר $x\leq y \rightarrow F_{X}(x)\leq F_{X}(y)$
2) $F_{X}(x)$ שואפת ל $0$ כאשר $x\to -\infty$ ושואפת ל $1$ כאשר $x\to\infty$ .
3)  אם $X$ הוא משתנה רציף אז $F_{X}(x)$ היא פונקצייה רציפה של $x$  כלומר רציפה מימין. זה גם כן נובע מהמשפט היסודי ומ[[האינטגרל#האינטגרל הלא מסויים]].
4)  אם $X$ הוא בדיד ומקבל ערכים טבעיים, נוכל לחלץ את ה CDF וה PMF על ידי סכימת ההפרשים כלומר 
 $$F_{X}(k)= \sum\limits_{i=-\infty}^{k} p_X(i)$$
$$p_{X}(k)= P(X\leq k)- P(X\leq k-1)= F_{X}(k)-F_{X}(k-1)$$
5)  אם $X$ הוא רציף, ה $PDF$ וה $CDF$ מתקבלים אחד מהשני על ידי גזירה ואינטגרצייה.
6) $P(a\leq X\leq b)= F_{X}(b)-F_{X}(a)$ 

__הוכחה לסעיף 6:__
$$P(a\leq X\leq b)= 1- P(\{X < a\}\cup \{X>b\})= 1- P(X<a)- P(X>b)= 1- F_{X}(a)- 1+ F_{X}(b)= F_{X}(b)-F_{X}(a)$$
המעבר השלישי נובע בגלל שאם $a=b$ אז ההסתברות היא 0 ואם הם שונים אז אלו קבוצות זרות מהנתון ש $a\leq b$ .
_אינטואיטיבית המשפט הזה נכון כי ההפרש המתואר הוא בידיוק השטח הכלוא בין a לb בפונקציית הצפיפות_

## PMF ו CDF 
לעתים כדי לקבל את פונקציית מסת ההסתברות או פונקציית הצפיפות נוח יותר לחשב את CDF קודם. נתבונן בדוגמה הבאה
נניח ויש לנו אישור לגשת לבחינה 3 פעמים, והתוצאה הסופית תהיה המקסימום מבין ה3 ציונים כלומר
$$X=\max\{X_{1},X_{2},X_{3}\}$$

כאשר $X$ הוא הציון הסופי וכל אחד מהאיברים הוא הציון במבחן המתאים לו. נניח שהתוצאה של כל מבחן נעה בין 1 ל 10 בהסתברות שווה של $\frac{1}{10}$ , באופן בלתי תלוי בתוצאות המבחן האחרות. מהו ה $PMF$ של הציון הסופי?

יהיה לנו במקרה הזה יותר נוח לחשב את ה cdf קודם 
$$p_{X}(k)= F_{X}(k)- F_{X}(k-1) \ \ \text{ where k= 1...10}$$
אם כן
$$F_{X}(k)= P(X\leq k)= P(X_{1}\leq k, X_{2}\leq k, X_{3}\leq k)= P(X_{1}\leq k)P(X_{2}\leq k)P(X_{3}\leq k)= \left(\frac{k}{10}\right)^{3}$$
המעבר השלישי נובע מתכונות ה[[אי תלות]] . אם כן, נקבל שפונקציית מסת ההסתברות היא 
$$p_{X}(k)= \left(\frac{k}{10}\right)^{3}- \left(\frac{k-1}{10}\right)^{3}$$

## CDF של משתנה גיאומטרי ומשתנה מעריכי
בגלל ש CDF מוגדרת עבור כל סוג של משתנה רנדומי, הוא נותנת לנו אמצעי נוח בשביל לבדוק קשרים בין משתנה אקראי בדיד למשתנה אקראי רציף.
מקרה מעניין הוא הקשר בין [[משתנים רנדומיים-בדיד#משתנה גיאומטרי]] והקשר בין [[משתנים רנדומיים - רציף#משתנה מקרי מעריכי]] .
עבור $X$ משתנה גיאומטרי עם פרמטר $p$ , כלומר, מספר ניסויי הברנולי בלתי תלויים עד הצלחה ראשונה בהסתברות $p$. 
אנחנו יודעים שעבור $k\in\mathbb{N}$ פונקציית מסת ההסתברות תהיה $P(X=k)= p(1-p)^{k-1}$ וה CDF יהיה
$$F_{geo}(n)= \sum\limits_{k=1}^{n}p(1-p)^{k-1}= p\cdot \frac{1-(1-p)^{n}}{1-(1-p)}= 1- (1-p)^{n}$$
כעת נניח ש $X$ הוא משתנה מקרי מעריכי עם פרמטר $\lambda>0$ . ה CDF יהיה 
$$F_{exp}(x)=\int\limits_{0}^{x}\lambda e^{-\lambda t}dt = e^{-\lambda t}\bigg|_{0}^{x}= 1-e^{-\lambda x} $$

ננסה להבין מה הקשר בינהם על ידי השווה, נגדיר $\delta= \frac{-\ln(1-p)}{\lambda}$ כך שיתקיים 
$$e^{-\lambda\delta}= 1-p$$
כעת ניתן לראות, שהפונקציות שוות לכל $x=n\cdot\delta$ בעבור n טבע כלומר 
$$F_{exp}(n\cdot\delta)= F_{geo}(n)$$
ויתרה מכך הם מאוד קרובים אחד לשני עבור ערכים אחרים של $x$ 
![[Pasted image 20230103224425.png|300]]
ניתן לראות שככל ש $\delta$ שואף ל$0$ ככה ״הגבול״ של משתנה מקרי גיאומטרי מתקרב להיות בעצם משתנה מקרי מעריכי. 
נוכל לתאר זאת באופן מוחשי יותר על ידי כך שנניח שאנחנו מטילים מטבע בזמן מאוד מהיר $\delta<<1$ והמטבע הוא מוטה למספר קטן מאוד עבור H:  $p= 1- e^{-\lambda\delta}$ 
כעת נוכל להגיד שהזמן הראשון שבו נקבל H הוא קירוב של משתנה רנדומי מעריכי עם פרמטר $\lambda$ .

__אם כן , נוכל לסכם את הנ״ל ולומר שיש קשר של גבול בין ההתפלגויות, כמו כן יש גם קשר תיאורתי בין השניים :
המשתנה הגיאומטרי מתאר מספר טבעי של ניסויים כושלים עד להצלחה כלשהי.
המתנה המעריכי מתאר את משך הזמן (רציף) שעבר עד להצלחה כלשהי.__

__כמו כן, חשוב לשים לב ששני המשתנים הם חסרי זכרון  מה שמחזק עוד יותר את הקשר התאורתי בין השניים__ .